# -----------------------------
# Orion Security Watcher
# -----------------------------
ORION_BUS_ENABLED=true
ORION_BUS_URL=redis://100.92.216.81:6379/0

# subscribe to the same channel vision edge publishes
VISION_EVENTS_PUBLISH_RAW=orion:vision:edge:raw
VISION_EVENTS_SUBSCRIBE_RAW=${VISION_EVENTS_PUBLISH_RAW}

# snapshot URL exposed inside docker network by vision edge
VISION_SNAPSHOT_URL=http://100.92.216.81:7100/snapshot.jpg

# core toggles
SECURITY_DEFAULT_ARMED=False
SECURITY_ENABLED=true
SECURITY_DEFAULT_ARMED=false
SECURITY_MODE=vacation_strict
# camera stream_id(s) from vision events, comma-separated, or blank for all
SECURITY_CAMERA_IDS=office-cam

# visit & detection thresholds
VISIT_IDLE_TIMEOUT_SEC=5
MIN_VISIT_DURATION_SEC=2
MIN_PERSON_FRAMES=2
HUMAN_KINDS=face,yolo,presence
MOTION_REQUIRED=true
HUMAN_MIN_SCORE=0.4
MIN_BBOX_AREA_FRACTION=0.01

# rate limiting
SECURITY_GLOBAL_COOLDOWN_SEC=60
SECURITY_IDENTITY_COOLDOWN_SEC=300
ALLOWED_IDENTITIES=juniper,wife,kidA,kidB
IDENTITY_CONFIDENCE_THRESHOLD=0.6

# snapshots
SECURITY_SNAPSHOT_COUNT=3
SECURITY_SNAPSHOT_INTERVAL_SEC=2
SECURITY_SNAPSHOT_DIR=/mnt/telemetry/orion-security/alerts

# notifications
NOTIFY_MODE=inline          # inline | none (later: bus_only when you split)
NOTIFY_EMAIL_ENABLED=true
NOTIFY_EMAIL_SMTP_HOST=smtp.yourprovider.com
NOTIFY_EMAIL_SMTP_PORT=587
NOTIFY_EMAIL_SMTP_USERNAME=YOUR_SMTP_USER
NOTIFY_EMAIL_SMTP_PASSWORD=YOUR_SMTP_PASS
NOTIFY_EMAIL_USE_TLS=true
NOTIFY_EMAIL_FROM="Orion Security <orion-security@yourdomain>"
NOTIFY_EMAIL_TO=you@youremail

# persisted armed/mode state
SECURITY_STATE_PATH=/mnt/telemetry/orion-security/state.json
