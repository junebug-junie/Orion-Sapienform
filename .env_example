# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ğŸŒ Orion Mesh Global Environment
# Automatically sourced by all services
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Identify this node and project namespace dynamically
# (rebuild-services.sh auto-overwrites this with the real hostname)
PROJECT=orion-athena
NODE_NAME=athena

# Shared network for inter-service communication
NET=app-net

# Default mesh storage paths
STORAGE_ROOT=/mnt/storage-lukewarm
TELEMETRY_ROOT=/mnt/telemetry

# Default Redis connection (may be overridden per node or managed)
ORION_BUS_URL=redis://100.92.216.81:6379/0
ORION_BUS_PORT=6379
REDIS_EXPORTER_PORT=9121
REDIS_DATA_VOL=${PROJECT}_redis_data

# Default Postgres / GraphDB settings (if relevant)
POSTGRES_PORT=55432
GRAPHDB_PORT=7200
GRAPHDB_URL=http://graphdb:7200
GRAPHDB_REPO=orion

# Default model + runtime settings
#MODEL=mistral:instruct
#BACKENDS=http://llm-brain:11434
USERS=2

# === ORION BUS CHANNELS (Titanium Contract) ===
# Core Events
CHANNEL_CORE_EVENTS=orion:core:events

# RDF Pipeline
CHANNEL_RDF_ENQUEUE=orion:rdf:enqueue
CHANNEL_RDF_CONFIRM=orion:rdf:confirm
CHANNEL_RDF_ERROR=orion:rdf:error
CHANNEL_WORKER_RDF=orion:rdf:worker

# Collapse/Telemetry Pipeline
CHANNEL_EVENTS_COLLAPSE=orion:collapse:intake
CHANNEL_EVENTS_TAGGED=orion:events:tagged
CHANNEL_COLLAPSE_TRIAGE=orion:collapse:triage
CHANNEL_COLLAPSE_INTAKE=orion:collapse:intake
CHANNEL_COGNITION_TRACE_PUB=orion:cognition:trace

# Cortex Logging
CORTEX_LOG_CHANNEL=orion:cortex:logs

# Optional: if using managed Redis or external DB, uncomment and edit
# MANAGED_REDIS_URL=redis://user:pass@your-managed-redis:6379/0
# PRUNE=1  # uncomment for automatic prune on rebuild
# SKIP_BUS=1  # skip orion-bus if MANAGED_REDIS_URL is defined

# === ORION VISION (Titanium) ===
CHANNEL_VISION_FRAMES=vision.frames
CHANNEL_VISION_ARTIFACTS=vision.artifacts
CHANNEL_VISION_GUARD_SIGNAL=vision.guard.signal
CHANNEL_VISION_GUARD_ALERT=vision.guard.alert

# Vision Edge Config
YOLO_MODEL=yolov8n.pt
YOLO_CONF_THRES=0.25
YOLO_IOU_THRES=0.45
YOLO_IMG_SIZE=640
YOLO_PERSON_RETRY_THRESHOLD=0.15
EDGE_DEBUG_SAVE_FRAMES=False
EDGE_DEBUG_DIR=/mnt/debug
FRAME_STORAGE_DIR=/tmp/orion-frames

# Vision Guard Config
GUARD_WINDOW_SECONDS=30
GUARD_EMIT_EVERY_SECONDS=5
GUARD_PERSON_MIN_CONF=0.4
GUARD_PERSON_MIN_COUNT=1
GUARD_SUSTAIN_SECONDS=2
GUARD_ALERT_COOLDOWN_SECONDS=60
