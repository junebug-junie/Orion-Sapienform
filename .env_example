# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ğŸŒ Orion Mesh Global Environment
# Automatically sourced by all services
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Identify this node and project namespace dynamically
# (rebuild-services.sh auto-overwrites this with the real hostname)
PROJECT=orion-athena
NODE_NAME=athena

# Shared network for inter-service communication
NET=app-net

# Default mesh storage paths
STORAGE_ROOT=/mnt/storage-lukewarm
TELEMETRY_ROOT=/mnt/telemetry

# Default Redis connection (may be overridden per node or managed)
ORION_BUS_URL=redis://100.92.216.81:6379/0
ORION_BUS_PORT=6379
REDIS_EXPORTER_PORT=9121
REDIS_DATA_VOL=${PROJECT}_redis_data

# Default Postgres / GraphDB settings (if relevant)
POSTGRES_PORT=55432
GRAPHDB_PORT=7200
GRAPHDB_URL=http://graphdb:7200
GRAPHDB_REPO=orion

# Default model + runtime settings
#MODEL=mistral:instruct
#BACKENDS=http://llm-brain:11434
USERS=2

# === ORION BUS CHANNELS (Titanium Contract) ===
# Core Events
CHANNEL_CORE_EVENTS=orion:core:events

# RDF Pipeline
CHANNEL_RDF_ENQUEUE=orion:rdf:enqueue
CHANNEL_RDF_CONFIRM=orion:rdf:confirm
CHANNEL_RDF_ERROR=orion:rdf:error
CHANNEL_WORKER_RDF=orion:rdf:worker

# Collapse/Telemetry Pipeline
CHANNEL_EVENTS_COLLAPSE=orion:collapse:intake
CHANNEL_EVENTS_TAGGED=orion:events:tagged
CHANNEL_COLLAPSE_TRIAGE=orion:collapse:triage
CHANNEL_COLLAPSE_INTAKE=orion:collapse:intake
CHANNEL_COGNITION_TRACE_PUB=orion:cognition:trace

# Cortex Logging
CORTEX_LOG_CHANNEL=orion:cortex:logs

# System Health / Equilibrium
CHANNEL_SYSTEM_HEALTH=system.health
CHANNEL_SPARK_SIGNAL=orion:spark:signal
CHANNEL_EQUILIBRIUM_SNAPSHOT=orion:equilibrium:snapshot
EQUILIBRIUM_EXPECTED_SERVICES=
EQUILIBRIUM_EXPECTED_SERVICES_PATH=
EQUILIBRIUM_GRACE_MULTIPLIER=3
EQUILIBRIUM_PUBLISH_INTERVAL_SEC=15
EQUILIBRIUM_WINDOWS_SEC=60,300,3600
EQUILIBRIUM_STATE_KEY=equilibrium:state

# Spark / State snapshots
CHANNEL_SPARK_STATE_SNAPSHOT=orion:spark:state:snapshot
SPARK_ROLLUP_TABLE=spark_state_rollups
ROLLUP_WINDOWS_SEC=60,300,3600
ROLLUP_INTERVAL_SEC=30
ROLLUP_RETENTION_HOURS=24
JOURNALER_PORT=8380

# Optional: if using managed Redis or external DB, uncomment and edit
# MANAGED_REDIS_URL=redis://user:pass@your-managed-redis:6379/0
# PRUNE=1  # uncomment for automatic prune on rebuild
# SKIP_BUS=1  # skip orion-bus if MANAGED_REDIS_URL is defined
