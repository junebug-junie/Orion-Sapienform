# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ðŸ§  Orion Recall â€” Unified RAG / Memory Brain
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# --- Service Identity ---
SERVICE_NAME=recall
SERVICE_VERSION=0.1.0
NODE_NAME=unknown
PORT=8260

# --- Orion Bus Integration ---
ORION_BUS_ENABLED=true
ORION_BUS_ENFORCE_CATALOG=true
ORION_BUS_URL=redis://100.92.216.81:6379/0
ORION_HEALTH_CHANNEL=orion:system:health

# RPC intake (exec -> recall)
RECALL_BUS_INTAKE=orion:exec:request:RecallService
RECALL_BUS_REPLY_DEFAULT=orion:exec:result:RecallService
RECALL_BUS_TELEMETRY=orion:recall:telemetry

# --- Chassis / Runtime ---
HEARTBEAT_INTERVAL_SEC=10
ERROR_CHANNEL=orion:system:error
SHUTDOWN_GRACE_SEC=10

# --- Default Retrieval Behavior ---
RECALL_DEFAULT_MAX_ITEMS=16
RECALL_DEFAULT_TIME_WINDOW_DAYS=30
RECALL_DEFAULT_MODE=hybrid
RECALL_DEFAULT_PROFILE=reflect.v1

# --- Source Toggles ---
RECALL_ENABLE_SQL_CHAT=true
RECALL_ENABLE_SQL_MIRRORS=false
RECALL_ENABLE_VECTOR=true
RECALL_ENABLE_RDF=true

# --- Postgres (SQL) ---
RECALL_PG_DSN=postgresql://postgres:postgres@orion-athena-sql-db:5432/conjourney

# Chat history table/columns
RECALL_SQL_CHAT_TABLE=chat_history_log
RECALL_SQL_CHAT_TEXT_COL=prompt
RECALL_SQL_CHAT_RESPONSE_COL=response
RECALL_SQL_CHAT_CREATED_AT_COL=created_at

# Collapse Mirror base + semantics
RECALL_SQL_MIRROR_TABLE=collapse_mirror
RECALL_SQL_MIRROR_SUMMARY_COL=summary
RECALL_SQL_MIRROR_TRIGGER_COL=trigger
RECALL_SQL_MIRROR_OBSERVER_COL=observer
RECALL_SQL_MIRROR_OBSERVER_STATE_COL=observer_state
RECALL_SQL_MIRROR_FIELD_RESONANCE_COL=field_resonance
RECALL_SQL_MIRROR_INTENT_COL=intent
RECALL_SQL_MIRROR_TYPE_COL=type
RECALL_SQL_MIRROR_ENTITY_COL=emergent_entity
RECALL_SQL_MIRROR_MANTRA_COL=mantra
RECALL_SQL_MIRROR_CAUSAL_ECHO_COL=causal_echo
RECALL_SQL_MIRROR_TS_COL=timestamp

# Collapse enrichment
RECALL_SQL_ENRICH_TABLE=collapse_enrichment
RECALL_SQL_ENRICH_COLLAPSE_ID_COL=collapse_id
RECALL_SQL_ENRICH_TAGS_COL=tags
RECALL_SQL_ENRICH_ENTITIES_COL=entities
RECALL_SQL_ENRICH_SALIENCE_COL=salience
RECALL_SQL_ENRICH_TS_COL=ts

# --- SQL Timeline ---
RECALL_ENABLE_SQL_TIMELINE=true
RECALL_SQL_SINCE_MINUTES=180
RECALL_SQL_TOP_K=10
RECALL_SQL_TIMELINE_TABLE=collapse_mirror
RECALL_SQL_TIMELINE_TS_COL=timestamp
RECALL_SQL_TIMELINE_TEXT_COL=summary
RECALL_SQL_TIMELINE_SESSION_COL=observer
RECALL_SQL_TIMELINE_NODE_COL=observer_state
RECALL_SQL_TIMELINE_TAGS_COL=tags

# --- Chroma (vector memories) ---
VECTOR_DB_HOST=orion-athena-vector-db
VECTOR_DB_PORT=8000
VECTOR_DB_COLLECTION=orion_main_store

# Recall-specific vector overrides (optional)
# (if you leave these unset, Settings derives base_url from host/port)
RECALL_VECTOR_BASE_URL=
RECALL_VECTOR_COLLECTIONS=docs_design,docs_research,memory_summaries
RECALL_VECTOR_TIMEOUT_SEC=5.0
RECALL_VECTOR_MAX_ITEMS=24

# --- GraphDB (RDF memories) ---
GRAPHDB_URL=http://orion-athena-graphdb:7200
GRAPHDB_REPO=collapse
GRAPHDB_USER=admin
GRAPHDB_PASS=admin

# Recall-specific RDF overrides (optional)
# (if unset, Settings derives endpoint from GRAPHDB_URL + GRAPHDB_REPO)
RECALL_RDF_ENDPOINT_URL=
RECALL_RDF_TIMEOUT_SEC=5.0
RECALL_RDF_ENABLE_SUMMARIES=false

# --- Tensors / Ranker toggles (future) ---
RECALL_TENSOR_RANKER_ENABLED=false
RECALL_TENSOR_RANKER_MODEL_PATH=/mnt/storage-warm/orion/recall/tensor-ranker.pt
