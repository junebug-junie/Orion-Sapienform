# ──────────────────────────────────────────────────────────────
# Orion Equilibrium Service
# Watches system.health + emits equilibrium snapshots / signals
# ──────────────────────────────────────────────────────────────

# Compose naming / network
#PROJECT=orion-athena
#NET=app-net

# Service identity
SERVICE_NAME=orion-equilibrium-service
SERVICE_VERSION=0.1.0
NODE_NAME=athena
INSTANCE_ID=eq-1

# Orion bus
ORION_BUS_ENABLED=true
ORION_BUS_ENFORCE_CATALOG=true
#ORION_BUS_URL=redis://100.92.216.81:6379/0
ORION_HEALTH_CHANNEL=orion:system:health

# --- Metacognition tick  ---
CHANNEL_METACOGNITION_TICK=orion:metacognition:tick
METACOGNITION_TICK_KIND=metacognition.tick.v1
CHANNEL_EQUILIBRIUM_METACOG_TRIGGER=orion:equilibrium:metacog:trigger

# Titanium-ish channels
CHANNEL_EQUILIBRIUM_SNAPSHOT=orion:equilibrium:snapshot
CHANNEL_SPARK_SIGNAL=orion:spark:signal
CHANNEL_COGNITION_TRACE_PUB=orion:cognition:trace

# Runtime / heartbeat cadence (settings supports this; add to compose for provenance)
HEARTBEAT_INTERVAL_SEC=10

# Equilibrium logic
# Comma-separated list OR JSON list; your settings supports both.
EQUILIBRIUM_EXPECTED_SERVICES=recall,state-journaler,sql-writer,vector-writer
EQUILIBRIUM_METACOG_PUBLISH_VERB_REQUEST=false

# Optional: path inside container to YAML file with { services: [...] }
EQUILIBRIUM_EXPECTED_SERVICES_PATH=

EQUILIBRIUM_GRACE_MULTIPLIER=3.0
EQUILIBRIUM_PUBLISH_INTERVAL_SEC=15
EQUILIBRIUM_WINDOWS_SEC=[60,300,3600]

# Redis state key
EQUILIBRIUM_STATE_KEY=equilibrium:state

# Metacognition Logging
EQUILIBRIUM_METACOG_ENABLE=true
EQUILIBRIUM_METACOG_BASELINE_INTERVAL_SEC=120
EQUILIBRIUM_METACOG_COOLDOWN_SEC=30
EQUILIBRIUM_METACOG_PAD_PULSE_THRESHOLD=0.8

# Spark heartbeat (idle keepalive)
EQUILIBRIUM_SPARK_HEARTBEAT_ENABLE=false
EQUILIBRIUM_SPARK_HEARTBEAT_INTERVAL_SEC=30
