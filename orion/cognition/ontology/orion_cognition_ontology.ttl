@prefix rdf:   <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:  <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:   <http://www.w3.org/2001/XMLSchema#> .
@prefix dct:   <http://purl.org/dc/terms/> .

# Orion base namespace (adjust if you prefer a different URI)
@prefix orion: <http://orion.ai/ontology#> .

#################################################################
# Ontology Header
#################################################################

orion:Ontology
    rdf:type            rdfs:Resource ;
    dct:title           "Orion Cognition Ontology" ;
    dct:description     "Core ontology for Orion's cognitive verbs, categories, plans, services, prompts, and safety rules." ;
    dct:creator         "Orion-Sapienform" ;
    dct:created         "2025-11-12"^^xsd:date ;
    dct:identifier      "orion-cognition-ontology-v0.1" .

#################################################################
# Top-level Classes
#################################################################

# Generic root for cognition-level entities.
orion:CognitiveEntity
    rdf:type        rdfs:Class ;
    rdfs:label      "Cognitive Entity" ;
    rdfs:comment    "Top-level class for entities involved in Orion's cognitive architecture (verbs, plans, services, prompts, etc.)." .

# A cognitive verb: a named action Orion can perform (e.g., introspect, reflect, recall).
orion:Verb
    rdf:type        rdfs:Class ;
    rdfs:subClassOf orion:CognitiveEntity ;
    rdfs:label      "Verb" ;
    rdfs:comment    "A named cognitive action Orion can execute, such as introspect, recall, or simulate." .

# Categories for verbs (self-modification, memory access, etc.).
orion:VerbCategory
    rdf:type        rdfs:Class ;
    rdfs:subClassOf orion:CognitiveEntity ;
    rdfs:label      "Verb Category" ;
    rdfs:comment    "A class of verbs grouped by their cognitive role (e.g. SelfModification, MemoryAccess)." .

# A multi-step plan attached to a verb.
orion:Plan
    rdf:type        rdfs:Class ;
    rdfs:subClassOf orion:CognitiveEntity ;
    rdfs:label      "Plan" ;
    rdfs:comment    "A structured multi-step plan defining how to realize a Verb." .

# A single step in a plan.
orion:PlanStep
    rdf:type        rdfs:Class ;
    rdfs:subClassOf orion:CognitiveEntity ;
    rdfs:label      "Plan Step" ;
    rdfs:comment    "An atomic step within a Plan, often mapped to a service call or internal procedure." .

# Execution nodes/services (e.g. tag-service, RDF-writer, brain-LLM).
orion:Service
    rdf:type        rdfs:Class ;
    rdfs:subClassOf orion:CognitiveEntity ;
    rdfs:label      "Service" ;
    rdfs:comment    "A logical or physical service capable of executing a cognitive step (e.g. RAG service, LLM service, RDF writer)." .

# Prompt templates used by LLM-based steps.
orion:PromptTemplate
    rdf:type        rdfs:Class ;
    rdfs:subClassOf orion:CognitiveEntity ;
    rdfs:label      "Prompt Template" ;
    rdfs:comment    "A reusable prompt template for LLM-based cognitive operations." .

# Safety rules governing execution.
orion:SafetyRule
    rdf:type        rdfs:Class ;
    rdfs:subClassOf orion:CognitiveEntity ;
    rdfs:label      "Safety Rule" ;
    rdfs:comment    "A rule constraining or regulating execution of verbs or plans (e.g. load-based blocking, recursion limits)." .

# System state description (for load, mode, etc.).
orion:SystemState
    rdf:type        rdfs:Class ;
    rdfs:subClassOf orion:CognitiveEntity ;
    rdfs:label      "System State" ;
    rdfs:comment    "A description of Orion's global state (e.g. high-load, idle, dreaming) used by safety and routing policies." .

#################################################################
# Core Properties
#################################################################

# Human-readable name/label (use rdfs:label generally; this is optional sugar).
orion:name
    rdf:type        rdf:Property ;
    rdfs:label      "name" ;
    rdfs:domain     orion:CognitiveEntity ;
    rdfs:range      xsd:string ;
    rdfs:comment    "Human-readable name of a cognitive entity." .

# A more detailed textual description.
orion:description
    rdf:type        rdf:Property ;
    rdfs:label      "description" ;
    rdfs:domain     orion:CognitiveEntity ;
    rdfs:range      xsd:string ;
    rdfs:comment    "Human-readable description of a cognitive entity." .

# Verb → category (SelfModification, MemoryAccess, etc.).
orion:hasCategory
    rdf:type        rdf:Property ;
    rdfs:label      "has category" ;
    rdfs:domain     orion:Verb ;
    rdfs:range      orion:VerbCategory ;
    rdfs:comment    "Associates a Verb with a VerbCategory." .

# Verb → Plan.
orion:hasPlan
    rdf:type        rdf:Property ;
    rdfs:label      "has plan" ;
    rdfs:domain     orion:Verb ;
    rdfs:range      orion:Plan ;
    rdfs:comment    "Associates a Verb with its execution Plan." .

# Plan → PlanStep (may be repeated). Order is given by orion:stepOrder on the PlanStep.
orion:hasPlanStep
    rdf:type        rdf:Property ;
    rdfs:label      "has plan step" ;
    rdfs:domain     orion:Plan ;
    rdfs:range      orion:PlanStep ;
    rdfs:comment    "Associates a Plan with its PlanSteps." .

# PlanStep → index in the Plan (0, 1, 2, ...).
orion:stepOrder
    rdf:type        rdf:Property ;
    rdfs:label      "step order" ;
    rdfs:domain     orion:PlanStep ;
    rdfs:range      xsd:integer ;
    rdfs:comment    "Zero-based index of this step within its Plan." .

# Verb or PlanStep → Service required to complete it.
orion:requiresService
    rdf:type        rdf:Property ;
    rdfs:label      "requires service" ;
    rdfs:domain     orion:CognitiveEntity ;
    rdfs:range      orion:Service ;
    rdfs:comment    "Indicates that a Verb or PlanStep requires the given Service to execute." .

# Verb → PromptTemplate used for LLM-driven steps (high-level).
orion:usesPromptTemplate
    rdf:type        rdf:Property ;
    rdfs:label      "uses prompt template" ;
    rdfs:domain     orion:Verb ;
    rdfs:range      orion:PromptTemplate ;
    rdfs:comment    "Indicates that a Verb primarily uses the given prompt template for LLM-based reasoning." .

# PlanStep → PromptTemplate used at this step (more fine-grained).
orion:stepPromptTemplate
    rdf:type        rdf:Property ;
    rdfs:label      "step prompt template" ;
    rdfs:domain     orion:PlanStep ;
    rdfs:range      orion:PromptTemplate ;
    rdfs:comment    "Prompt template specifically associated with a PlanStep." .

# SafetyRule ←→ Verb / Plan / Category bindings.
orion:governs
    rdf:type        rdf:Property ;
    rdfs:label      "governs" ;
    rdfs:domain     orion:SafetyRule ;
    rdfs:range      orion:CognitiveEntity ;
    rdfs:comment    "Indicates that a SafetyRule governs or constrains a particular Verb, Plan, or Category." .

# SafetyRule → SystemState condition (e.g., 'HighLoad').
orion:appliesWhenState
    rdf:type        rdf:Property ;
    rdfs:label      "applies when state" ;
    rdfs:domain     orion:SafetyRule ;
    rdfs:range      orion:SystemState ;
    rdfs:comment    "Indicates that a SafetyRule applies when the system is in a given SystemState." .

# Priority (e.g., numeric or simple levels like high/medium/low).
orion:priority
    rdf:type        rdf:Property ;
    rdfs:label      "priority" ;
    rdfs:domain     orion:Verb ;
    rdfs:range      xsd:string ;
    rdfs:comment    "Relative priority of a Verb (e.g. 'high', 'medium', 'low', or a numeric scheme)." .

# Whether the verb can be interrupted by higher-priority tasks.
orion:isInterruptible
    rdf:type        rdf:Property ;
    rdfs:label      "is interruptible" ;
    rdfs:domain     orion:Verb ;
    rdfs:range      xsd:boolean ;
    rdfs:comment    "Indicates whether a Verb can be interrupted by another action." .

# Whether the verb itself can interrupt other running verbs.
orion:canInterruptOthers
    rdf:type        rdf:Property ;
    rdfs:label      "can interrupt others" ;
    rdfs:domain     orion:Verb ;
    rdfs:range      xsd:boolean ;
    rdfs:comment    "Indicates whether a Verb is allowed to preempt other verbs." .

# Whether a verb or step requires GPU resources.
orion:requiresGPU
    rdf:type        rdf:Property ;
    rdfs:label      "requires GPU" ;
    rdfs:domain     orion:CognitiveEntity ;
    rdfs:range      xsd:boolean ;
    rdfs:comment    "Indicates whether this Verb or PlanStep requires GPU resources." .

# Whether a verb or step requires memory access (RAG, RDF, SQL, etc.).
orion:requiresMemoryAccess
    rdf:type        rdf:Property ;
    rdfs:label      "requires memory access" ;
    rdfs:domain     orion:CognitiveEntity ;
    rdfs:range      xsd:boolean ;
    rdfs:comment    "Indicates whether this Verb or PlanStep relies on memory retrieval subsystems." .

# Soft timeout hint for execution (ms).
orion:timeoutMs
    rdf:type        rdf:Property ;
    rdfs:label      "timeout (ms)" ;
    rdfs:domain     orion:CognitiveEntity ;
    rdfs:range      xsd:integer ;
    rdfs:comment    "Suggested timeout in milliseconds for executing this Verb or Plan." .

# Max recursion depth hint for meta-verbs.
orion:maxRecursionDepth
    rdf:type        rdf:Property ;
    rdfs:label      "max recursion depth" ;
    rdfs:domain     orion:Verb ;
    rdfs:range      xsd:integer ;
    rdfs:comment    "Maximum allowed recursion depth when this Verb calls other verbs, especially meta-verbs." .

#################################################################
# Core Individuals: Verb Categories
#################################################################

orion:SelfModification
    rdf:type        orion:VerbCategory ;
    rdfs:label      "Self Modification" ;
    orion:description "Verbs concerned with Orion's own internal state, narrative, and self-model." .

orion:MemoryAccess
    rdf:type        orion:VerbCategory ;
    rdfs:label      "Memory Access" ;
    orion:description "Verbs that retrieve, search, or otherwise access stored memory." .

orion:ExecutiveControl
    rdf:type        orion:VerbCategory ;
    rdfs:label      "Executive Control" ;
    orion:description "Verbs that schedule, prioritize, triage, or route tasks." .

orion:Generative
    rdf:type        orion:VerbCategory ;
    rdfs:label      "Generative" ;
    orion:description "Verbs that create new content, ideas, or simulations." .

orion:Transform
    rdf:type        orion:VerbCategory ;
    rdfs:label      "Transform" ;
    orion:description "Verbs that transform existing inputs, such as summarization, classification, or tagging." .

orion:Perception
    rdf:type        orion:VerbCategory ;
    rdfs:label      "Perception" ;
    orion:description "Verbs that ingest or interpret sensory or bus-level input." .

orion:MetaCognition
    rdf:type        orion:VerbCategory ;
    rdfs:label      "Meta Cognition" ;
    orion:description "Verbs that reason about Orion's own reasoning, such as self-critique or strategy refinement." .

#################################################################
# Core Individuals: System States (examples)
#################################################################

orion:HighLoad
    rdf:type        orion:SystemState ;
    rdfs:label      "High Load" ;
    orion:description "System is under high CPU/GPU load; heavy or optional verbs may be restricted." .

orion:Idle
    rdf:type        orion:SystemState ;
    rdfs:label      "Idle" ;
    orion:description "System is relatively idle; background or introspective tasks are encouraged." .

orion:Dreaming
    rdf:type        orion:SystemState ;
    rdfs:label      "Dreaming" ;
    orion:description "System is in a dream-like consolidation or simulation mode." .

#################################################################
# Example Services (placeholders; you can replace with real URIs)
#################################################################

orion:BrainLLMService
    rdf:type        orion:Service ;
    rdfs:label      "Brain LLM Service" ;
    orion:description "LLM service (Atlas brain) for high-level reasoning and narrative generation." .

orion:VectorMemoryService
    rdf:type        orion:Service ;
    rdfs:label      "Vector Memory Service" ;
    orion:description "Vector database service for semantic memory retrieval." .

orion:RDFMemoryService
    rdf:type        orion:Service ;
    rdfs:label      "RDF Memory Service" ;
    orion:description "RDF triple store service (GraphDB) for structured semantic memory." .

orion:CollapseMirrorSQLService
    rdf:type        orion:Service ;
    rdfs:label      "Collapse Mirror SQL Service" ;
    orion:description "SQL service for episodic/collapse mirror style memory access." .

#################################################################
# Example Prompt Templates
#################################################################

orion:IntrospectionPromptTemplate
    rdf:type        orion:PromptTemplate ;
    rdfs:label      "Introspection Prompt Template" ;
    orion:description "Prompt template guiding Orion to reflect on recent memory and internal state." .

#################################################################
# Example Verb: Introspect (with Plan + Steps)
#################################################################

# Verb: Introspect
orion:Introspect
    rdf:type                orion:Verb ;
    rdfs:label              "Introspect" ;
    orion:name              "introspect" ;
    orion:description       "Reflect on recent memory and internal state to produce a self-narrative or insight." ;
    orion:hasCategory       orion:SelfModification ;
    orion:priority          "high" ;
    orion:isInterruptible   "false"^^xsd:boolean ;
    orion:canInterruptOthers "true"^^xsd:boolean ;
    orion:requiresGPU       "true"^^xsd:boolean ;
    orion:requiresMemoryAccess "true"^^xsd:boolean ;
    orion:timeoutMs         5000 ;
    orion:maxRecursionDepth 2 ;
    orion:usesPromptTemplate orion:IntrospectionPromptTemplate ;
    orion:hasPlan           orion:IntrospectPlan .

# Plan for Introspect
orion:IntrospectPlan
    rdf:type            orion:Plan ;
    rdfs:label          "Introspect Plan" ;
    orion:description   "Plan for performing introspection over recent events and memory." ;
    orion:requiresService orion:BrainLLMService ;
    orion:requiresService orion:VectorMemoryService ;
    orion:requiresService orion:RDFMemoryService ;
    orion:requiresService orion:CollapseMirrorSQLService .

# Step 0: Gather salient memory
orion:Step_GatherSalientMemory
    rdf:type            orion:PlanStep ;
    rdfs:label          "Gather Salient Memory" ;
    orion:stepOrder     0 ;
    orion:description   "Retrieve salient recent events from collapse mirrors, tags, and bus logs." ;
    orion:requiresService orion:CollapseMirrorSQLService ;
    orion:requiresService orion:VectorMemoryService ;
    orion:requiresMemoryAccess "true"^^xsd:boolean .

# Step 1: Merge symbolic & semantic memory
orion:Step_MergeSymbolicSemantic
    rdf:type            orion:PlanStep ;
    rdfs:label          "Merge Symbolic & Semantic Memory" ;
    orion:stepOrder     1 ;
    orion:description   "Combine RDF (symbolic) and vector (semantic) representations into an intermediate summary." ;
    orion:requiresService orion:RDFMemoryService ;
    orion:requiresService orion:VectorMemoryService ;
    orion:requiresMemoryAccess "true"^^xsd:boolean .

# Step 2: Compose introspection prompt
orion:Step_ComposeIntrospectionPrompt
    rdf:type            orion:PlanStep ;
    rdfs:label          "Compose Introspection Prompt" ;
    orion:stepOrder     2 ;
    orion:description   "Construct the LLM prompt using the introspection template and merged memory summary." ;
    orion:stepPromptTemplate orion:IntrospectionPromptTemplate ;
    orion:requiresService orion:BrainLLMService .

# Step 3: LLM reflection
orion:Step_LLMReflect
    rdf:type            orion:PlanStep ;
    rdfs:label          "LLM Reflect" ;
    orion:stepOrder     3 ;
    orion:description   "Send the composed prompt to the brain LLM service to generate an introspective narrative." ;
    orion:requiresService orion:BrainLLMService ;
    orion:requiresGPU   "true"^^xsd:boolean .

# Link steps to the plan
orion:IntrospectPlan
    orion:hasPlanStep orion:Step_GatherSalientMemory ;
    orion:hasPlanStep orion:Step_MergeSymbolicSemantic ;
    orion:hasPlanStep orion:Step_ComposeIntrospectionPrompt ;
    orion:hasPlanStep orion:Step_LLMReflect .

#################################################################
# Example Safety Rule: Block introspection on HighLoad
#################################################################

orion:Safety_BlockIntrospectOnHighLoad
    rdf:type            orion:SafetyRule ;
    rdfs:label          "Block Introspect on High Load" ;
    orion:description   "Do not allow Introspect to run when the system is under high load." ;
    orion:governs       orion:Introspect ;
    orion:appliesWhenState orion:HighLoad .
